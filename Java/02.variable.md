# Java 变量与对象

## 成员变量和局部变量

### 成员变量（实例变量）
* 实例变量声明在一个类中，但在方法、构造方法和语句块之外；
* 当一个对象被实例化之后，每个实例变量的值就跟着确定；
* 实例变量在对象创建的时候创建，在对象被销毁的时候销毁；
* 实例变量的值应该至少被一个方法、构造方法或者语句块引用，使得外部能够通过这些方式获取实例变量信息；
* 实例变量可以声明在使用前或者使用后；
* 访问修饰符可以修饰实例变量；
* 实例变量对于类中的方法、构造方法或者语句块是可见的。一般情况下应该把实例变量设为私有。通过使用访问修饰符可以使实例变量对子类可见；
* 实例变量具有默认值。数值型变量的默认值是0，布尔型变量的默认值是false，引用类型变量的默认值是null。变量的值可以在声明时指定，也可以在构造方法中指定；
* 实例变量可以直接通过变量名访问。但在静态方法以及其他类中，就应该使用完全限定名：ObejectReference.VariableName。


### 局部变量

* 局部变量声明在方法、构造方法或者语句块中；
* 局部变量在方法、构造方法、或者语句块被执行的时候创建，当它们执行完成后，变量将会被销毁；
* 访问修饰符不能用于局部变量；
* 局部变量只在声明它的方法、构造方法或者语句块中可见；
* 局部变量是在栈上分配的。
* 局部变量没有默认值，所以局部变量被声明后，必须经过初始化，才可以使用。

**对比：**
* 在类中的位置不同
  * 成员变量：在类方法外
  * 局部变量： 在方法定义或者方法声明
* 在内存中的位置不同
  * 成员变量：在堆内存 （成员变量属于对象，对象进堆内存）
  * 局部变量：在栈内存（局部变量属于方法，方法进栈内存）
* 生命周期不同
  * 成员变量：随着对象的创建而存在，随着对象的消失而消失
  * 局部变量：随着方法的调用而存在，随着方法的调用完毕而消失
* 初始化值不同
  * 成员变量：有默认初始值
  * 局部变量：没有默认初始值，必须定义，赋值，然后才能使用

this可以用来区分成员变量和局部变量


### 实例变量
* 实例变量声明在一个类中，但在方法、构造方法和语句块之外；
* 当一个对象被实例化之后，每个实例变量的值就跟着确定；
* 实例变量在对象创建的时候创建，在对象被销毁的时候销毁；
* 实例变量的值应该至少被一个方法、构造方法或者语句块引用，使得外部能够通过这些方式获取实例变量信息；
* 实例变量可以声明在使用前或者使用后；
* 访问修饰符可以修饰实例变量；
* 实例变量对于类中的方法、构造方法或者语句块是可见的。一般情况下应该把实例变量设为私有。通过使用访问修饰符可以使实例变量对子类可见；
* 实例变量具有默认值。数值型变量的默认值是0，布尔型变量的默认值是false，引用类型变量的默认值是null。变量的值可以在声明时指定，也可以在构造方法中指定；
* 实例变量可以直接通过变量名访问。但在静态方法以及其他类中，就应该使用完全限定名：ObejectReference.VariableName。

```java
Employee empOne = new Employee("RUNOOB");
```

### 类变量 (静态变量)
* 类变量也称为静态变量，在类中以static关键字声明，但必须在方法构造方法和语句块之外。
* 无论一个类创建了多少个对象，类只拥有类变量的一份拷贝。
* 静态变量除了被声明为常量外很少使用。常量是指声明为public/private，final和static类型的变量。常量初始化后不可改变。
* 静态变量储存在静态存储区。经常被声明为常量，很少单独使用static声明变量。
* 静态变量在第一次被访问时创建，在程序结束时销毁。
* 与实例变量具有相似的可见性。但为了对类的使用者可见，大多数静态变量声明为public类型。
* 默认值和实例变量相似。数值型变量默认值是0，布尔型默认值是false，引用类型默认值是null。变量的值可以在声明的时候指定，也可以在构造方法中指定。此外，静态变量还可以在静态语句块中初始化。
* 静态变量可以通过： *ClassName.VariableName* 的方式访问。
* 类变量被声明为public static final类型时，类变量名称一般建议使用大写字母。如果静态变量不是public和final类型，其命名方式与实例变量以及局部变量的命名方式一致。

## 修饰符

### protected
protected 需要从以下两个点来分析说明：
* **子类与基类在同一包中** ：被声明为 protected 的变量、方法和构造器能被同一个包中的任何其他类访问；

* **子类与基类不在同一包中** ：那么在子类中，子类实例可以访问其从基类继承而来的 protected 方法，而不能访问基类实例的protected方法。

### 非访问修饰符

* static 修饰符，用来修饰类方法和类变量。
* final 修饰符，用来修饰类、方法和变量，final 修饰的类不能够被继承，修饰的方法不能被继承类重新定义，修饰的变量为常量，是不可修改的。
* abstract 修饰符，用来创建抽象类和抽象方法。
* synchronized 和 volatile 修饰符，主要用于线程的编程。

#### static 修饰符
* **静态变量：**
  static 关键字用来声明独立于对象的静态变量，无论一个类实例化多少对象，它的静态变量只有一份拷贝。 静态变量也被称为类变量。局部变量不能被声明为 static 变量。
* **静态方法：**
  static 关键字用来声明独立于对象的静态方法。静态方法不能使用类的非静态变量。静态方法从参数列表得到数据，然后计算这些数据。

**特点：**
* 随着类的加载而加载
* 优先于对象存在
* 被类的所有对象而共享
* 可以通过类名调用，即多了一种调用方式。

**注意事项：**
* 在静态方法中没有this关键字。静态是随着类的创建而存在，this是随着对象的创建而存在，静态比对象先存在
* 静态方法只能访问静态成员变量和静态方法


## 匿名对象
- 匿名对象只适合调用一次，调用多次就会产生多个对象，占用内存。
- 匿名对象可以调用属性，但是没有意义， 调用之后就会变成垃圾
- 匿名对象可以作为参数传递。节省代码步骤，一种简写方式。
```java
new Class();
```
